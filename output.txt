/*
This is a UI file (.ui.qml) that is intended to be edited in Qt Design Studio only.
It is supposed to be strictly declarative and only uses a subset of QML. If you edit
this file manually, you might introduce QML code that is not supported by Qt Design Studio.
Check out https://doc.qt.io/qtcreator/creator-quick-ui-forms.html for details on .ui.qml files.
*/
import QtQuick 6.2
import QtQuick.Controls 6.2
import QtQuick.Timeline 6.0
import QtQuick3D.Helpers 6.4


Rectangle {
    id: background

    property real appWidth: 0  // Default values. They will be overridden by app.qml
    property real appHeight: 0

    width: appWidth
    height: appHeight

    color: "#272727"
    state: "Opening"
    scale: 1
    Cal {
        id: cal
    }

    Rectangle {
        id: headerbox
        x: appWidth * -6 / 1920
        y: appHeight * 937 / 1080
        width: parent.width * 0.995 // (1912/1920)
        height: parent.height * 0.13  // (143/1080)
        color: "#1d1d1d"
        anchors.left: parent.left
        anchors.right: parent.right
        anchors.bottom: parent.bottom
        anchors.leftMargin: 0
        anchors.rightMargin: 0
        anchors.bottomMargin: 0
    }


    SButton {
        id: startPlanning
        x: parent.width * (1399 / 1920) // This means 72.8% of the parent's width
        y: parent.height * (719 / 1080) // 66.6% of the parent's height
        width: parent.width * (521 / 1920) // 27.1% of the parent's width
        height: parent.height * (103 / 1080) // 9.5% of the parent's height
        visible: false
        text: "Start Planning"
        state: "normal"

        Connections {
            target: startPlanning
            function onClicked() {
                background.state = "MainMenu"
            }
        }
    }

    SButton {
        id: exitApp
        x: parent.width * (1920 / 1920) // This would mean 100% of the parent's width, but there seems to be an issue as the item will be out of bounds
        y: parent.height * (828 / 1080) // 76.6% of the parent's height
        width: parent.width * (521 / 1920) // 27.1% of the parent's width
        height: parent.height * (103 / 1080) // 9.5% of the parent's height
        text: "Exit App"
        state: "normal"

        Connections {
            target: exitApp
            function onClicked() {
                background.state = "Opening"
            }
        }
    }


    AddOption {
        id: addOption
        x: appWidth * -1234 / 1920
        y: appHeight * 978 / 1080

        Connections {
            target: addOption
            function onClicked() {
                background.state = "addEventPanel"
            }
        }
    }



    PathView {
        id: pathView
        x: appWidth * -915 / 1920
        y: appHeight * 1567 / 1080
        width: appWidth * 200 / 1920
        height: appHeight * 100 / 1080
        delegate: Column {
            spacing: 5
            Rectangle {
                id: createslider
                width: appWidth * 450 / 1920
                height: appHeight * 788 / 1080
                color: "#212121"
                border.color: "#414141"
                border.width: appWidth * 5 / 1920

                Button {
                    id: sliderButton
                    width: appWidth * 450 / 1920
                    height: appHeight * 788 / 1080
                    opacity: 0.2
                    Connections {
                        target: sliderButton
                        function onClicked() {
                            background.state = "CreateEvent"
                        }
                    }
                }

                Image {
                    id: createimage
                    source: imagesource
                    width: appWidth * 450 / 1920
                    height: appHeight * 788 / 1080
                    fillMode: Image.PreserveAspectFit
                    opacity: 0.2
                }
                Image {
                    id: addcreate
                    source: "images/addthem.png"
                    width: appWidth * 200 / 1920
                    height: appHeight * 200 / 1080
                    anchors.verticalCenter: parent.verticalCenter
                    anchors.horizontalCenter: parent.horizontalCenter
                    fillMode: Image.PreserveAspectFit
                    opacity: 0.7
                }
                Text {
                    id: text2
                    width: appWidth * 200 / 1920
                    height: appHeight * 500 / 1080
                    x: positionx
                    y: positiony
                    anchors.horizontalCenter: parent.horizontalCenter
                    horizontalAlignment: Text.AlignHCenter
                    color: "#f7f7f7"
                    font.pixelSize: 70
                    text: name
                    font.bold: true
                }




            }

        }
        path: Path {
            startX: 2312
            startY: 375

            PathCubic {
                x: appWidth * 1401 / 1920
                y: appHeight * 516 / 1080
                control1Y: 425
                control2X: 1651
                control1X: 2016
                control2Y: 498
            }

            PathCubic {
                x: appWidth * -331 / 1920.448
                y: appHeight * 467 / 1080.184
                control1Y: 524.53333
                control2X: 268.02667
                control1X: 759.06667
                control2Y: 496.01333
            }
        }
        model: ListModel {
            ListElement {
                name: "Hone Health"
                positionx: 15
                positiony: 550
                imagesource: "images/createimage1.png"
            }

            ListElement {
                name: "Get Goals"
                positionx: 15
                positiony: 550
                imagesource: "images/createimage2.png"
            }

            ListElement {
                name: "Event Entry"
                positionx: 15
                positiony: 550
                imagesource: "images/createimage3.png"
            }

            ListElement {
                name: "Ai Add"
                positionx: 15
                positiony: 550
                imagesource: "images/createimage4.png"
            }
        }
    }

    Image {
        id: hopefully
        x: appWidth * -278 / 1920
        y: appHeight * -1070 / 1080
        width: appWidth * 1393 / 1920
        height: appHeight * 945 / 1080
        opacity: 0.107
        source: "images/hopefully.png"
        fillMode: Image.PreserveAspectFit
    }

    Text {
        id: welcome
        x: appWidth * 2214 / 1920
        y: appHeight * -466 / 1080
        width: appWidth * 485 / 1920
        height: appHeight * 270 / 1080
        color: "#f7f7f7"
        text: qsTr("Welcome")
        font.pixelSize: 80
        horizontalAlignment: Text.AlignHCenter
        verticalAlignment: Text.AlignVCenter
        font.weight: Font.ExtraBold
    }

    Timeline {
        id: openingTimeline
        animations: [
            TimelineAnimation {
                id: timelineAnimation
                onFinished: background.state = "StartMenu"
                loops: 1
                duration: 3000
                running: false
                to: 3000
                from: 0
            }
        ]
        enabled: false
        startFrame: 0
        endFrame: 3000

        KeyframeGroup {
            target: logonobackground
            property: "opacity"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1002
                value: 1
            }
        }

        KeyframeGroup {
            target: logonobackground
            property: "x"
            Keyframe {
                frame: 0
                value: 106
            }

            Keyframe {
                frame: 1002
                value: 106
            }

            Keyframe {
                frame: 2002
                value: 1253
            }
        }

        KeyframeGroup {
            target: logonobackground
            property: "width"
            Keyframe {
                frame: 0
                value: 1709
            }

            Keyframe {
                frame: 1002
                value: 1709
            }

            Keyframe {
                frame: 2002
                value: 642
            }
        }

        KeyframeGroup {
            target: logonobackground
            property: "y"
            Keyframe {
                frame: 0
                value: 435
            }

            Keyframe {
                frame: 1002
                value: 435
            }

            Keyframe {
                frame: 2002
                value: 968
            }
        }

        KeyframeGroup {
            target: logonobackground
            property: "height"
            Keyframe {
                frame: 0
                value: 211
            }

            Keyframe {
                frame: 1002
                value: 211
            }

            Keyframe {
                frame: 2002
                value: 79
            }
        }

        KeyframeGroup {
            target: hopefully
            property: "opacity"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1002
                value: 0
            }

            Keyframe {
                frame: 2002
                value: 0.11
            }
        }

        KeyframeGroup {
            target: headerbox
            property: "height"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1002
                value: 0
            }

            Keyframe {
                frame: 2002
                value: 143
            }
        }

        KeyframeGroup {
            target: headerbox
            property: "opacity"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1002
                value: 0
            }

            Keyframe {
                frame: 2002
                value: 1
            }
        }

        KeyframeGroup {
            target: startPlanning
            property: "x"
            Keyframe {
                frame: 0
                value: 1920
            }

            Keyframe {
                frame: 1334
                value: 1920
            }

            Keyframe {
                frame: 2002
                value: 1399
            }
        }

        KeyframeGroup {
            target: startPlanning
            property: "opacity"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1334
                value: 0
            }

            Keyframe {
                frame: 2002
                value: 1
            }
        }

        KeyframeGroup {
            target: exitApp
            property: "x"
            Keyframe {
                frame: 0
                value: 1920
            }

            Keyframe {
                frame: 1335
                value: 1920
            }

            Keyframe {
                frame: 2003
                value: 1399
            }
        }

        KeyframeGroup {
            target: exitApp
            property: "opacity"
            Keyframe {
                frame: 0
                value: 0
            }

            Keyframe {
                frame: 1335
                value: 0
            }

            Keyframe {
                frame: 2003
                value: 1
            }
        }
    }

    Timeline {
        id: openingTimeline2
        animations: [
            TimelineAnimation {
                id: timelineAnimation1
                loops: 1
                duration: 1000
                running: false
                to: 1000
                from: -2
            }
        ]
        enabled: false
        startFrame: 0
        endFrame: 1000
    }

    Image {
        id: logonobackground
        x: appWidth * 1253 / 1920
        y: appHeight * 968 / 1080
        width: appWidth * 642 / 1920
        height: appHeight * 79 / 1080
        source: "images/logo-no-background.png"
        fillMode: Image.PreserveAspectFit
    }



    SButton {
        id: goBackButton
        x: appWidth * 29 / 1920
        y: appHeight * 14 / 1080
        width: appWidth * 387 / 1920
        height: appHeight * 63 / 1080
        visible: false
        text: "Go Back"

        Connections {
            target: goBackButton
            function onClicked() {
                cal.populateMonthListModel(cal.month, cal.year);
                background.state = "MainMenu"
            }
        }
    }

    Text {
        id: eventTitle
        x: appWidth * 530 / 1920
        y: appHeight * 41 / 1080
        width: appWidth * 860 / 1920
        height: appHeight * 110 / 1080
        color: "#ffffff"
        font.pixelSize: 70
        visible: false
        horizontalAlignment: Text.AlignHCenter
        verticalAlignment: Text.AlignVCenter
    }
    ListModel {
        id: listModel
    }



    TextField {
        id: eventName
        background: Rectangle {
            color: "#737373"
        }
        x: appWidth * 40 / 1920
        y: appHeight * 170 / 1080
        width: appWidth * 668 / 1920
        height: appHeight * 70 / 1080
        visible: false
        color: "#ffffff"
        font.pointSize: 15
        placeholderTextColor: "#88e4e4e4"
        placeholderText: qsTr("Create Event Name")
    }
    SButton {
        id: createEvent
        x: appWidth * 1506 / 1920
        y: appHeight * 795 / 1080
        visible: false
        text: "Create Event"

        Connections {
            target: createEvent
            function onClicked() {
                if (eventName.text !== "" && eventTypeDropDown.currentIndex !== -1 && eventDescription.text !== "") {

                // Get the selected event type from the ComboBox
                var selectedEventType = eventTypeDropDown.model.get(eventTypeDropDown.currentIndex).key;
                var reccurence = repeatEventDropDown.model.get(repeatEventDropDown.currentIndex).key;

                // Fetch month, day, and year from the tumblers
                var eventMonthVal = monthTumbler.currentIndex + 1; // +1 as month starts from 1 in real-world but index starts from 0.
                var eventDayVal = dayTumbler.currentIndex + 1; // +1 to make it human-readable day.
                var eventYearVal = yearTumbler.currentIndex + 2000; // from the previously defined property.

                // Fetch start and end hours, minutes, and am/pm from tumblers
                var startHourVal = hoursTumbler.model.get(hoursTumbler.currentIndex).value;
                var startMinuteVal = minutesTumbler.currentIndex; // As model is from 0-59
                var startAmPmVal = amPmTumbler.model[amPmTumbler.currentIndex];

                var endHourVal = hoursTumbler2.model.get(hoursTumbler2.currentIndex).value;
                var endMinuteVal = minutesTumbler2.currentIndex; // As model is from 0-59
                var endAmPmVal = amPmTumbler2.model[amPmTumbler2.currentIndex];

                // Convert 12-hour format to 24-hour format
                if (startAmPmVal === "PM" && startHourVal !== "12") {
                    startHourVal = Number(startHourVal) + 12;
                } else if (startAmPmVal === "AM" && startHourVal === "12") {
                    startHourVal = "0";
                }

                if (endAmPmVal === "PM" && endHourVal !== "12") {
                    endHourVal = Number(endHourVal) + 12;
                } else if (endAmPmVal === "AM" && endHourVal === "12") {
                    endHourVal = "0";
                }

                // Calculate start and end times in minutes
                var totalStartMinutes = Number(startHourVal) * 60 + Number(startMinuteVal);
                var totalEndMinutes = Number(endHourVal) * 60 + Number(endMinuteVal);

                // Check if end time is less than start time
                if (totalEndMinutes <= totalStartMinutes) {
                    errorMessage.messageText = "End time must be greater than start time.";
                    errorMessage.state = "showError";
                    return; // This stops execution of the following code if error condition is met
                }

                // Call the addEvent function with values from tumblers
                cal.addEvent(eventName.text, selectedEventType, eventDescription.text, startHourVal.toString(), startMinuteVal.toString(),
                              endHourVal.toString(), endMinuteVal.toString(), eventDayVal.toString(), eventMonthVal.toString(), eventYearVal.toString(), reccurence.toString());

                } else {
                    errorMessage.messageText = "All fields are required.";
                    errorMessage.state = "showError";

                }
            }
        }
    }

    SButton {
        id: createTestEvent
        x: appWidth * 1576 / 1920
        y: appHeight * 400 / 1080
        visible: false
        text: "Create Test Event"

        Connections {
            target: createTestEvent
            function onClicked() {
                var testEventName = "July 4th Test Event";
                var testEventType = "Festive";
                var testEventDescription = "A test event for Independence Day.";
                var startHour = "10"; // 10 AM
                var startMinute = "00";
                var endHour = "14"; // 2 PM
                var endMinute = "00";
                var eventDay = "4"; // July 4th
                var eventMonth = "7"; // July
                var eventYear = "2023";

                cal.addEvent(testEventName, testEventType, testEventDescription, startHour, startMinute, endHour, endMinute, eventDay, eventMonth, eventYear);
            }
        }
    }

    SButton {
        id: testButton
        x: appWidth * 1576 / 1920
        y: appHeight * 645 / 1080
        visible: false

        Connections {
            target: testButton
            function onClicked() {
                console.log("eventListModel:", cal.eventListModel);
                console.log("filteredEventModel:", cal.filteredEventModel);
                cal.logListModel(cal.eventListModel);
            }
        }
    }


    TextField {
        id: eventDescription
        x: appWidth * 800 / 1920
        y: appHeight * 170 / 1080
        width: appWidth * 668 / 1920
        height: appHeight * 67 / 1080
        visible: false
        color: "#ffffff"
        placeholderTextColor: "#88e4e4e4"
        placeholderText: qsTr("Event Description...")
        background: Rectangle {
            color: "#737373"
        }
        font.pointSize: 15
    }



    Text {
        id: startText
        x: appWidth * 40 / 1920
        y: appHeight * 270 / 1080
        height: appHeight * 67 / 1080
        width: appWidth * 150 / 1920
        text: qsTr("Text")
        font.pixelSize: 30
        visible: false
    }


    Text {
        id: endText
        x: appWidth * 400 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 150 / 1920
        height: appHeight * 67 / 1080
        visible: false
        text: qsTr("Text")
        font.pixelSize: 30
    }


    Text {
        id: eventText
        x: appWidth * 750 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 150 / 1920
        height: appHeight * 67 / 1080
        visible: false
        text: qsTr("Text")
        font.pixelSize: 30
    }


    Text {
        id: eventTypeText
        x: appWidth * 1104 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 150 / 1920
        height: appHeight * 67 / 1080
        visible: false
        font.pixelSize: 30
        color: "#ffffff"
        text: qsTr("Event Type:")
        verticalAlignment: Text.AlignVCenter
    }






    states: [
        State {
            name: "Opening"

            PropertyChanges {
                target: openingTimeline
                enabled: true
            }

            PropertyChanges {
                target: timelineAnimation
                running: true
            }

            PropertyChanges {
                target: logonobackground
                x: appWidth * 1253 / 1920
                y: appHeight * 435 / 1080
                width: appWidth * 1709 / 1920
                height: appHeight * 211 / 1080
                visible: true
            }

            PropertyChanges {
                target: openingTimeline2
            }

            PropertyChanges {
                target: timelineAnimation1
                running: true
            }

            PropertyChanges {
                target: startPlanning
                x: appWidth * 1920 / 1920
                opacity: 0
                visible: true
            }

            PropertyChanges {
                target: exitApp
                opacity: 0
                visible: true
            }

            PropertyChanges {
                target: welcome
                visible: false
            }

            PropertyChanges {
                target: hopefully
                x: appWidth * 0 / 1920
                y: appHeight * 0 / 1080
                opacity: 0
                visible: true
            }

            PropertyChanges {
                target: background
                color: "#272727"
            }

            PropertyChanges {
                target: headerbox
                y: appHeight * 1080 / 1080
                height: appHeight * 0 / 1080
                opacity: 0
                color: "#1d1d1d"
                anchors.leftMargin: 0
                anchors.rightMargin: 0
                anchors.bottomMargin: 0
            }

            PropertyChanges {
                target: calendar
                visible: false
            }

        },

        State {
            name: "StartMenu"

            PropertyChanges {
                target: startPlanning
                x: appWidth * 1399 / 1920
                y: appHeight * 719 / 1080
                visible: true
                text: "Start Planning"
                state: "normal"
            }

            PropertyChanges {
                target: background
                width: appWidth * 1920 / 1920
                color: "#272727"
            }

            PropertyChanges {
                target: openingTimeline
            }

            PropertyChanges {
                target: timelineAnimation
                running: true
            }

            PropertyChanges {
                target: openingTimeline2
                enabled: false
            }

            PropertyChanges {
                target: timelineAnimation1
                running: false
            }

            PropertyChanges {
                target: welcome
                x: appWidth * 1422 / 1920
                y: appHeight * 35 / 1080
                text: qsTr("Welcome")
            }

            PropertyChanges {
                target: hopefully
                x: appWidth * 0 / 1920
                y: appHeight * 0 / 1080
            }

            PropertyChanges {
                target: logonobackground
                x: appWidth * 1253 / 1920
                y: appHeight * 968 / 1080
            }

            PropertyChanges {
                target: headerbox
                y: appHeight * 937 / 1080
                anchors.bottomMargin: 0
                anchors.leftMargin: 0
                anchors.rightMargin: 0
            }

            PropertyChanges {
                target: exitApp
                x: appWidth * 1399 / 1920
                y: appHeight * 828 / 1080
            }
        },
        State {
            name: "MainMenu"

            PropertyChanges {
                target: openingTimeline2
                enabled: false
            }

            PropertyChanges {
                target: timelineAnimation1
                running: false
            }

            PropertyChanges {
                target: hopefully
                visible: false
            }

            PropertyChanges {
                target: startPlanning
                visible: false
            }

            PropertyChanges {
                target: exitApp
                visible: false
            }

            PropertyChanges {
                target: welcome
                visible: false
            }

            PropertyChanges {
                target: addOption
                x: appWidth * 1569 / 1920
                y: appHeight * 621 / 1080
                width: appWidth * 288 / 1920
                height: appHeight * 288 / 1080
            }

            PropertyChanges {
                target: pathView
                x: appWidth * -1115 / 1920
                y: appHeight * 1700 / 1080
                visible: false
            }

            PropertyChanges {
                target: sliderMenu
                x: appWidth * 1468 / 1920
                y: appHeight * 8 / 1080
                state: "Closed"
            }

            PropertyChanges {
                target: calendar
                x: appWidth * 46 / 1920
                y: appHeight * 24 / 1080
                width: appWidth * 1000 / 1920
                height: appHeight * 708 / 1080
                visible: true
            }

            PropertyChanges {
                target: goBackButton
                visible: false
            }

            PropertyChanges {
                target: eventdayDisplay
                x: appWidth * 1110 / 1920
                y: appHeight * 23 / 1080
                visible: true
            }
        },

        State {
            name: "addEventPanel"

            PropertyChanges {
                target: startPlanning
                visible: false
                text: "Start Planning"
            }

            PropertyChanges {
                target: exitApp
                visible: false
            }

            PropertyChanges {
                target: background
                color: "#272727"
            }

            PropertyChanges {
                target: pathView
                x: appWidth * -6 / 1920
                y: appHeight * 8 / 1080
                width: appWidth * 1920 / 1920
                height: appHeight * 1072 / 1080
            }

            PropertyChanges {
                target: hopefully
                visible: false
            }

            PropertyChanges {
                target: welcome
                visible: false
            }

            PropertyChanges {
                target: openingTimeline
                enabled: false
            }

            PropertyChanges {
                target: timelineAnimation
                running: false
            }

            PropertyChanges {
                target: openingTimeline2
                enabled: false
            }

            PropertyChanges {
                target: timelineAnimation1
                running: false
            }


            PropertyChanges {
                target: goBackButton
                x: appWidth * 29 / 1920
                y: appHeight * 14 / 1080
                width: appWidth * 387 / 1920
                height: appHeight * 63 / 1080
                visible: true
                text: "Go Back"
            }
        },
        State {
            name: "CreateEvent"

            PropertyChanges {
                target: background
                color: "#272727"
            }

            PropertyChanges {
                target: eventTitle
                visible: true
                text: qsTr("Create Events")
            }

            PropertyChanges {
                target: startPlanning
                x: appWidth * 1920 / 1920
                y: appHeight * 719 / 1080
            }

            PropertyChanges {
                target: goBackButton
                visible: true
                text: "Go Back"
            }

            PropertyChanges {
                target: exitApp
                visible: false
            }

            PropertyChanges {
                target: createEvent
                x: appWidth * 1576 / 1920
                y: appHeight * 800 / 1080
                visible: true
            }

            PropertyChanges {
                target: eventName
                x: appWidth * 40 / 1920
                y: appHeight * 170 / 1080
                width: appWidth * 1075 / 1920
                height: appHeight * 70 / 1080
                visible: true
            }

            PropertyChanges {
                target: testButton
                visible: true
                text: "My Button"
            }

            PropertyChanges {
                target: startTime
                x: appWidth * 0 / 1920
                y: appHeight * 0 / 1080
                width: appWidth * 177 / 1920
                height: appHeight * 67 / 1080
                visible: true
            }

            PropertyChanges {
                target: eventDescription
                x: appWidth * 40 / 1920
                y: appHeight * 406 / 1080
                width: appWidth * 1450 / 1920
                height: appHeight * 494 / 1080
                visible: true
            }

            PropertyChanges {
                target: startText
                visible: true
                color: "#ffffff"
                text: qsTr("Start Time:")
                horizontalAlignment: Text.AlignLeft
                verticalAlignment: Text.AlignVCenter
                leftPadding: 5
                font.bold: false
            }

            PropertyChanges {
                target: endText
                x: appWidth * 407 / 1920
                y: appHeight * 270 / 1080
                width: appWidth * 141 / 1920
                height: appHeight * 67 / 1080
                visible: true
                color: "#ffffff"
                text: qsTr("End Time:")
                horizontalAlignment: Text.AlignLeft
                verticalAlignment: Text.AlignVCenter
                leftPadding: 5
                font.bold: false
            }

            PropertyChanges {
                target: eventText
                x: appWidth * 773 / 1920
                y: appHeight * 270 / 1080
                visible: true
                color: "#ffffff"
                text: qsTr("Date:")
                horizontalAlignment: Text.AlignLeft
                verticalAlignment: Text.AlignVCenter
                leftPadding: 5
            }

            PropertyChanges {
                target: eventTypeText
                visible: true
                text: qsTr("Event Type:")
                verticalAlignment: Text.AlignVCenter
            }

            PropertyChanges {
                target: sliderMenu
                x: appWidth * 1468 / 1920
                y: appHeight * 8 / 1080
                visible: true
                state: ""
            }

            PropertyChanges {
                target: createTestEvent
                visible: true
            }

            PropertyChanges {
                target: amPmTumbler
                y: appHeight * 0 / 1080
                anchors.leftMargin: 0
            }

            PropertyChanges {
                target: calendar
                color: "#3a3a3a"
            }

            PropertyChanges {
                target: startTimer
                x: appWidth * 196 / 1920
                y: appHeight * 270 / 1080
                visible: true
            }

            PropertyChanges {
                target: timerFade
                x: appWidth * 0 / 1920
                y: appHeight * 0 / 1080
                width: appWidth * 176 / 1920
                height: appHeight * 67 / 1080
            }

            PropertyChanges {
                target: endTimer
                x: appWidth * 562 / 1920
                y: appHeight * 270 / 1080
                visible: true
            }

            PropertyChanges {
                target: endTimes2
                x: appWidth * 0 / 1920
                y: appHeight * 0 / 1080
                width: appWidth * 177 / 1920
                visible: true
            }

            PropertyChanges {
                target: timerFade2
                width: appWidth * 177 / 1920
                height: appHeight * 67 / 1080
            }

            PropertyChanges {
                target: hoursTumbler
                wheelEnabled: true
            }

            PropertyChanges {
                target: minutesTumbler
                wheelEnabled: true
            }

            PropertyChanges {
                target: eventTypeDropDown
                x: appWidth * 1290 / 1920
                y: appHeight * 270 / 1080
                visible: true

            }

            PropertyChanges {
                target: dateTumbler
                x: appWidth * 874 / 1920
                y: appHeight * 270 / 1080
                visible: true
            }

            PropertyChanges {
                target: repeatText
                x: appWidth * 1156 / 1920
                y: appHeight * 173 / 1080
                width: appWidth * 107 / 1920
                height: appHeight * 67 / 1080
                visible: true
                text: qsTr("Repeat:")
            }

            PropertyChanges {
                target: repeatEventDropDown
                x: appWidth * 1290 / 1920
                y: appHeight * 170 / 1080
                visible: true
            }

        },
        State {
            name: "State1"

            PropertyChanges {
                target: eventTitle
                visible: true
                text: qsTr("Create Goals")
            }

            PropertyChanges {
                target: goBackButton
                visible: true
            }
        }]
    ErrorMessage {
        id: errorMessage
        x: appWidth * 0 / 1920
        y: appHeight * 0 / 1080
    }
    ComboBox {
        id: eventTypeDropDown
        textRole: "key"
        x: appWidth * 1290 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 200 / 1920
        height: appHeight * 67 / 1080
        visible: false

        model: cal.eventDropModel

        contentItem: Text {
            id: eventDropDownText
            text: eventTypeDropDown.displayText
            color: "white"  // text color
            verticalAlignment: Text.AlignVCenter
            padding: 8
            font.pointSize: 15
        }

        background: Rectangle {
            color: "#737373"   // background color
            border.color: "gray"
        }

        indicator: Image {
            source: "images/DropDown.png"
            height: appHeight * 18 / 1080
            width: appWidth * 30 / 1920
            x: appWidth * 155 / 1920
            y: appHeight * 26 / 1080
        }
    }

    Rectangle {
        id: calendar
        x: appWidth * 0 / 1920
        y: appHeight * 0 / 1080
        width: appWidth * 1000 / 1920
        height: appHeight * 700 / 1080
        visible: false
        color: "#3a3a3a"
        border.color: "#5f5f5f"

        CalendarButtons {
            id: prevMonth
            text: "Previous"
            x: appWidth * 23 / 1920
            y: appHeight * 16 / 1080
            font.pointSize: 15
            Connections {
                function onClicked() {
                    cal.month = (cal.month > 0) ? cal.month - 1 : (cal.month == 0 ) ? (cal.year--, 11) : cal.month;
                    cal.populateMonthListModel(cal.month, cal.year)
                }
            }
        }

        CalendarButtons {
            id: nextMonth
            text: "Next"
            x: appWidth * 875 / 1920
            y: appHeight * 16 / 1080
            Connections {
                function onClicked() {
                    cal.month = (cal.month < 11) ? cal.month + 1 : (cal.month == 11) ? (cal.year++, 0) : cal.month;
                    cal.populateMonthListModel(cal.month, cal.year)
                }
            }
        }

        Text {
            id: calendarTitle
            text: cal.monthName + " - " + cal.year
            font.bold: true
            color: "#f7f7f7"
            font.pixelSize: 50
            anchors.horizontalCenter: parent.horizontalCenter
        }

        Grid {
            id: calendarGrid
            x: appWidth * 14 / 1920
            y: appHeight * 17 / 1080
            topPadding: 50
            verticalItemAlignment: Grid.AlignVCenter
            horizontalItemAlignment: Grid.AlignHCenter
            columns: 7
            rows: 7
            spacing: 6
            anchors.verticalCenter: calendarTitle.verticalBottom
            anchors.horizontalCenter: parent.horizontalCenter

            Text {
                id : sunday
                text: "Sun"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }
            Text {
                id : monday
                text: "Mon"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            Text {
                id : tuesday
                text: "Tue"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            Text {
                id : wednesday
                text: "Wed"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            Text {
                id : thursday
                text: "Thu"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            Text {
                id : friday
                text: "Fri"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            Text {
                id : saturday
                text: "Sat"
                font.bold: true
                color: "#f7f7f7"
                font.pixelSize: 30
            }

            // Define the other days of the week

            Repeater {
                id : calendarRepeater
                model: cal.daysInMonth + cal.dayOfWeek // or any number of days you want to show
                Button {
                    id: dayButton
                    property int buttonYear: cal.backupyear
                    property int buttonMonth: cal.backupmonth
                    property int buttonDay: modelData - cal.dayOfWeek + 1

                    width: appWidth * 130 / 1920
                    height: appHeight * 89 / 1080
                    opacity: (modelData - cal.dayOfWeek >= 0) ? true : false
                    background: Rectangle {
                        id: calendarButtonRectangle
                        color: dayButton.pressed ? "#3d3d3d" : "#7A7A7A" // change color when pressed
                    }
                    Rectangle { // Or you can use Ellipse
                        id: textBackgroundCircle
                        color: "#4A4A4A" // Set the color as per your requirement
                        width: appWidth * 32 / 1920 // Width of the circle (adjust as needed)
                        height: appHeight * 32 / 1080 // Height of the circle (adjust as needed)
                        radius: width / 2 // Make it a circle
                        visible: cal.year === dayButton.buttonYear &&
                                 cal.month === dayButton.buttonMonth &&
                                 cal.day === dayButton.buttonDay
                        x: calendarButtonText.x + 3 // Shift to the right by 5 units
                        y: calendarButtonText.y - 1// Shift downwards by 5 units
                        enabled: false
                    }
                    Text {
                        id: calendarButtonText
                        x: appWidth * 6 / 1920
                        y: appHeight * 6 / 1080
                        width: appWidth * 39 / 1920
                        height: appHeight * 26 / 1080
                        color: "#ffffff"
                        text: modelData - cal.dayOfWeek + 1
                        font.pixelSize: 20
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                    ListView {
                        id: eventListView
                        width: appWidth * 130 / 1920
                        height: appHeight * 50 / 1080
                        model: cal.monthListModel
                        enabled: false
                        y: appHeight * 38 / 1080

                        delegate: Rectangle {
                            width: eventListView.width - 6
                            height: (eventDay === buttonDay && eventMonth === cal.month && eventYear === cal.year) ? 17 : 0  // 17 is 15 (height of Rectangle) + 2 (spacing)

                            color: "transparent"

                            Item {
                                width: parent.width
                                height: parent.height



                                Loader {
                                    anchors.fill: parent
                                    active: parent.height > 0

                                    sourceComponent:
                                        Rectangle {
                                        width: parent.width
                                        height: appHeight * 17 / 1080
                                        x: appWidth * 3 / 1920
                                        color: "transparent"

                                        Rectangle {
                                            width: parent.width
                                            height: appHeight * 15 / 1080
                                            color: "#4A4A4A" // Choose your desired background color
                                            radius: 4

                                            Rectangle {
                                                width: appWidth * 9 / 1920 // Width of the circle (double the radius)
                                                height: appHeight * 9 / 1080 // Height of the circle (double the radius)
                                                radius: 15
                                                color: cal.eventTypeColors[eventType] || "#B2FCFB" // If eventType doesn't match any key, it defaults to #B2FCFB // Set the color as per your requirement
                                                x: appWidth * 2 / 1920
                                                anchors.verticalCenter: parent.verticalCenter
                                            }

                                            Text {
                                                text: eventName
                                                color: "white"
                                                font.pixelSize: 10
                                                anchors.left: parent.left
                                                anchors.right: parent.right
                                                leftPadding: 15
                                                wrapMode: Text.WrapAnywhere
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }

                    Connections {
                        target: dayButton
                        function onClicked() {
                            cal.targetDay = modelData - cal.dayOfWeek + 1;
                            cal.targetmonthName = cal.monthName;

                            cal.filterEventsByDate(cal.year, cal.month, cal.targetDay);
                            console.log(dayButton.buttonDay);
                            console.log(cal.day);
                        }
                    }
                }
            }
        }
    }


    Item {
        id: startTimer
        width: appWidth * 191 / 1920
        height: appHeight * 67 / 1080
        visible: false

        FontMetrics {
            id: fontMetrics
            font.pixelSize: 20
        }

        Rectangle {
            id: startTime
            x: appWidth * 0 / 1920
            y: appHeight * 0 / 1080
            width: appWidth * 75 / 1920
            height: appHeight * 67 / 1080
            visible: false
            color: "#737373"


        }

        Component {
            id: numberDelegate

            Item {
                width: parent.width / 3
                height: fontMetrics.height * 2.5  // Increased multiplier for vertical spacing

                Label {
                    text: modelData < 10 ? "0" + modelData : modelData
                    anchors.centerIn: parent
                    font.pixelSize: fontMetrics.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    color: "white"

                }
            }
        }

        Component {
            id: amPmDelegate

            Item {
                width: parent.width / 3
                height: fontMetrics.height * 2.4  // Increased multiplier for vertical spacing

                Label {
                    text: modelData
                    anchors.centerIn: parent
                    font.pixelSize: fontMetrics.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    color: "white"
                }
            }
        }


        Tumbler {
            id: hoursTumbler
            width: parent.width / 3
            height: parent.height
            visibleItemCount: 2
            enabled: true
            model: ListModel {
                ListElement { value: "1" }
                ListElement { value: "2" }
                ListElement { value: "3" }
                ListElement { value: "4" }
                ListElement { value: "5" }
                ListElement { value: "6" }
                ListElement { value: "7" }
                ListElement { value: "8" }
                ListElement { value: "9" }
                ListElement { value: "10" }
                ListElement { value: "11" }
                ListElement { value: "12" }
            }
            delegate: numberDelegate
        }


        Tumbler {
            id: minutesTumbler
            width: parent.width / 3
            height: parent.height
            model: 60
            delegate: numberDelegate
            anchors.left: hoursTumbler.right
            visibleItemCount: 2
        }


        Tumbler {
            id: amPmTumbler
            width: parent.width / 3
            height: parent.height
            model: ["AM", "PM"]
            delegate: amPmDelegate
            anchors.left: minutesTumbler.right
            visibleItemCount: 2
            wheelEnabled: true
            currentIndex: 1
        }
        Rectangle {
            id: timerFade
            width: appWidth * 200 / 1920
            height: appHeight * 200 / 1080
            enabled: false
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#737373" }
                GradientStop { position: 0.5; color: "transparent" }
                GradientStop { position: 1.0; color: "#737373" }
            }
        }


    }


    Item {
        id: endTimer
        x: appWidth * -7 / 1920
        y: appHeight * -7 / 1080
        width: appWidth * 191 / 1920
        height: appHeight * 67 / 1080
        visible: false
        FontMetrics {
            id: fontMetrics1
            font.pixelSize: 20
        }

        Rectangle {
            id: endTimes2
            x: appWidth * -366 / 1920
            y: appHeight * -2 / 1080
            width: appWidth * 75 / 1920
            height: appHeight * 67 / 1080
            visible: false
            color: "#737373"
        }

        Component {
            id: numberDelegate1
            Item {
                width: parent.width / 3
                height: fontMetrics1.height * 2.5
                Label {
                    color: "#ffffff"
                    text: modelData < 10 ? "0" + modelData : modelData
                    font.pixelSize: fontMetrics1.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
        }

        Component {
            id: amPmDelegate1
            Item {
                width: parent.width / 3
                height: fontMetrics1.height * 2.4
                Label {
                    color: "#ffffff"
                    text: modelData
                    font.pixelSize: fontMetrics1.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
        }

        Tumbler {
            id: hoursTumbler2
            width: parent.width / 3
            height: parent.height
            enabled: true
            delegate: numberDelegate1
            visibleItemCount: 2
            currentIndex: 1
            model: ListModel {
                ListElement {
                    value: "1"
                }

                ListElement {
                    value: "2"
                }

                ListElement {
                    value: "3"
                }

                ListElement {
                    value: "4"
                }

                ListElement {
                    value: "5"
                }

                ListElement {
                    value: "6"
                }

                ListElement {
                    value: "7"
                }

                ListElement {
                    value: "8"
                }

                ListElement {
                    value: "9"
                }

                ListElement {
                    value: "10"
                }

                ListElement {
                    value: "11"
                }

                ListElement {
                    value: "12"
                }
            }
        }

        Tumbler {
            id: minutesTumbler2
            width: parent.width / 3
            height: parent.height
            anchors.left: hoursTumbler2.right
            delegate: numberDelegate1
            visibleItemCount: 2
            model: 60
        }

        Tumbler {
            id: amPmTumbler2
            width: parent.width / 3
            height: parent.height
            anchors.left: minutesTumbler2.right
            delegate: amPmDelegate1
            visibleItemCount: 2
            model: ["AM", "PM"]
            currentIndex: 1
        }

        Rectangle {
            id: timerFade2
            width: appWidth * 200 / 1920
            height: appHeight * 200 / 1080
            enabled: false
            gradient: Gradient {
                GradientStop {
                    position: 0
                    color: "#737373"
                }

                GradientStop {
                    position: 0.5
                    color: "#00000000"
                }

                GradientStop {
                    position: 1
                    color: "#737373"
                }
            }
        }

    }
    Item {
        id: dateTumbler
        x: appWidth * 850 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 191 / 1920
        height: appHeight * 67 / 1080
        visible: false

        FontMetrics {
            id: fontMetrics2
            font.pixelSize: 20
        }
        Rectangle {
                   id: dateTimeRectangle
                   width: parent.width
                   height: parent.height
                   color: "#737373"
               }

        Component {
            id: dateDelegate
            Item {
                width: parent.width / 3
                height: fontMetrics2.height * 2.5
                Label {
                    color: "#ffffff"
                    text: modelData < 10 ? "0" + modelData : modelData
                    font.pixelSize: fontMetrics2.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
        }

        // Tumbler for Month
        Tumbler {
            id: monthTumbler
            width: parent.width / 3
            height: parent.height
            currentIndex: cal.currentMonth
            delegate: Item {
                width: monthTumbler.width
                height: fontMetrics1.height * 2.5
                Label {
                    color: "#ffffff"
                    text: index + 1  // This will make the first item 2000, second 2001, and so on.
                    font.pixelSize: fontMetrics1.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
            visibleItemCount: 2
            model: 12  // Represents years from 2000 to 2050
            onCurrentIndexChanged: cal.currentMonth = currentIndex;
        }

        // Tumbler for Day (up to 31 for simplicity, adjust if necessary)
        Tumbler {
            id: dayTumbler
            width: parent.width / 3
            height: parent.height
            anchors.left: monthTumbler.right
            currentIndex: cal.day - 1
            delegate: Item {
                width: dayTumbler.width
                height: fontMetrics1.height * 2.5
                Label {
                    color: "#ffffff"
                    text: index + 1  // Starts from 1 for the first day of any month
                    font.pixelSize: fontMetrics1.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
            visibleItemCount: 2
            model: cal.daysInCurrentMonth
        }

        // Tumbler for Year (starting at 2000)
        Tumbler {
            id: yearTumbler
            width: parent.width / 3
            height: parent.height
            anchors.left: dayTumbler.right
            currentIndex: cal.currentYear - 2000
            delegate: Item {
                width: yearTumbler.width
                height: fontMetrics1.height * 2.5
                Label {
                    color: "#ffffff"
                    text: index + 2000  // This will make the first item 2000, second 2001, and so on.
                    font.pixelSize: fontMetrics1.font.pixelSize / 1.2
                    horizontalAlignment: Text.AlignHCenter
                    verticalAlignment: Text.AlignVCenter
                    anchors.centerIn: parent
                }
            }
            visibleItemCount: 2
            model: 101  // Represents years from 2000 to 2050
            onCurrentIndexChanged: cal.currentYear = currentIndex;
        }

        Rectangle {
            id: timerFade3
            width: appWidth * 191 / 1920
            height: appHeight * 67 / 1080
            enabled: false
            gradient: Gradient {
                GradientStop {
                    position: 0
                    color: "#737373"
                }

                GradientStop {
                    position: 0.5
                    color: "#00000000"
                }

                GradientStop {
                    position: 1
                    color: "#737373"
                }
            }
        }
    }


    Rectangle {
        id: eventdayDisplay
        x: appWidth * 1110 / 1920
        y: appHeight * 89 / 1080
        width: appWidth * 417 / 1920
        height: appHeight * 820 / 1080
        visible: false
        color: "#3a3a3a"
        border.color: "#5f5f5f"
        Text {
            id: eventDayTitle
            text: cal.targetmonthName + " - " + cal.targetDay
            font.bold: true
            color: "#f7f7f7"
            font.pixelSize: 50
            anchors.horizontalCenter: parent.horizontalCenter
        }

        ListView {
            id: eventDisplay
            width: parent.width
            height: parent.height - 75
            model: cal.filteredEventModel
            y: appHeight * 75 / 1080
            spacing: 2

            delegate:
                Rectangle {
                width: parent.width - 6
                height: appHeight * 80 / 1080 // Adjust for desired padding
                color: "#5A5A5A" // Choose your desired background color
                radius: 4
                x: appWidth * 3 / 1920

                Text {
                    text: eventName
                    color: "white"
                    font.pixelSize: 16
                    anchors.left: parent.left
                    anchors.right: parent.right
                    leftPadding: 15
                    wrapMode: Text.WrapAnywhere
                }
                Text {
                    text: cal.formatTime(startTime) + " - " + cal.formatTime(endTime)
                    color: "#D3D3D3"
                    font.pixelSize: 10
                    anchors.left: parent.left
                    anchors.right: parent.right
                    leftPadding: 15
                    wrapMode: Text.WrapAnywhere
                    y: appHeight * 18 / 1080

                }
                Text {
                    text: eventType
                    color: "#D3D3D3"
                    font.pixelSize: 10
                    anchors.left: parent.left
                    anchors.right: parent.right
                    horizontalAlignment: Text.AlignRight
                    rightPadding: 15
                    wrapMode: Text.WrapAnywhere
                    y: appHeight * 18 / 1080

                }
                Rectangle {
                    width: parent.width - 8
                    height: parent.height - 35
                    anchors.horizontalCenter: parent.horizontalCenter
                    y: appHeight * 32 / 1080
                    radius: 2
                    color: "#4a4a4a"
                    Text {
                        text: eventDescription
                        color: "white"
                        font.pixelSize: 12
                        anchors.left: parent.left
                        anchors.right: parent.right
                        leftPadding: 15
                        wrapMode: Text.WrapAnywhere


                    }
                }
                Button {
                    id: eventDisplayButton
                    text: "x"
                    x: appWidth * 393 / 1920
                    y: appHeight * -9 / 1080
                    background: Rectangle {
                        color: "transparent"
                    }
                    contentItem: Text {
                        text: eventDisplayButton.text
                        color: "#d75757"
                        font.pixelSize: 12
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                    Connections {
                        target: eventDisplayButton
                        onClicked: {
                            cal.deleteEvent(eventID);
                            cal.populateMonthListModel(cal.month, cal.year);
                        }
                    }
                }

            }
        }
    }






    Text {
        id: repeatText
        x: appWidth * 1106 / 1920
        y: appHeight * 272 / 1080
        width: appWidth * 150 / 1920
        height: appHeight * 67 / 1080
        visible: false
        color: "#ffffff"
        text: qsTr("Repeat:")
        font.pixelSize: 30
        verticalAlignment: Text.AlignVCenter
    }


    ComboBox {
        id: repeatEventDropDown
        x: appWidth * 1646 / 1920
        y: appHeight * 270 / 1080
        width: appWidth * 200 / 1920
        height: appHeight * 70 / 1080
        visible: false
        background: Rectangle {
            color: "#737373"
            border.color: "#808080"
        }
        indicator: Image {
            x: appWidth * 155 / 1920
            y: appHeight * 26 / 1080
            width: appWidth * 30 / 1920
            height: appHeight * 18 / 1080
            source: "images/DropDown.png"
        }
        textRole: "key"
        contentItem: Text {
            id: repeatEventText
            color: "#ffffff"
            text: repeatEventDropDown.displayText
            verticalAlignment: Text.AlignVCenter
            font.pointSize: 15
            padding: 8
        }
        model: cal.repeatDropModel
    }
    SliderMenu {
        id: sliderMenu
        x: appWidth * -639 / 1920
        y: appHeight * 1097 / 1080
    }
}





/*##^##
Designer {
    D{i:0;annotation:"1 //;;//  //;;//  //;;// <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n<html><head><meta name=\"qrichtext\" content=\"1\" /><meta charset=\"utf-8\" /><style type=\"text/css\">\np, li { white-space: pre-wrap; }\nhr { height: appHeight * 1 / 1080px; border-width: appWidth * 0 / 1920; }\nli.unchecked::marker { content: \"\\2610\"; }\nli.checked::marker { content: \"\\2612\"; }\n</style></head><body style=\" font-family:'Segoe UI'; font-size:9pt; font-weight:400; font-style:normal;\">\n<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><br /></p></body></html> //;;// 1690254314";customId:""}
D{i:306}D{i:307}D{i:311;invisible:true}
}
##^##*/
